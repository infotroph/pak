<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Package sources"><title>Package sources — pak_package_sources • pak</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.4/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.4/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Package sources — pak_package_sources"><meta property="og:description" content="Package sources"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="/pak.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">pak</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.3.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../reference/tldr.html">TLDR</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/faq.html">FAQ</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/internals.html">pak internals</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/r-lib/pak/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Package sources</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/pak/blob/HEAD/R/package.R" class="external-link"><code>R/package.R</code></a></small>
      <div class="d-none name"><code>pak_package_sources.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Package sources</p>
    </div>


    <div class="section level2">
    <h2 id="standard-packages">Standard packages<a class="anchor" aria-label="anchor" href="#standard-packages"></a></h2>
    


<p>pak can install packages from various package sources. By default,
a package name without the specification of its source, refers to a
CRAN or Bioconductor package. pak calls these <em>standard</em> packages.
For example:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="co">## CRAN package</span></span>
<span><span class="fu"><a href="../reference/pkg_install.html">pkg_install</a></span><span class="op">(</span><span class="st">"glue"</span><span class="op">)</span></span>
<span><span class="co">## BioC package</span></span>
<span><span class="fu"><a href="../reference/pkg_install.html">pkg_install</a></span><span class="op">(</span><span class="st">"limma"</span><span class="op">)</span></span></code></pre><p></p></div>
<p>When considering a standard package, the calling version of R is used
to determine the available source and binary packages on CRAN and the
Bioconductor repositories.</p>
<p>The full specification of standard packages is simply</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>[standard<span class="sc">::</span>]<span class="sc">&lt;</span>package<span class="sc">&gt;</span></span></code></pre><p></p></div>
<p>If you know the exact source of the package, you can also write</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>cran<span class="sc">::</span><span class="er">&lt;</span>package<span class="sc">&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>bioc<span class="sc">::</span><span class="er">&lt;</span>package<span class="sc">&gt;</span></span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="github-packages">GitHub packages<a class="anchor" aria-label="anchor" href="#github-packages"></a></h2>
    


<p>pak can install packages from GitHub repositories. Any package that
is specified in the <code>user/repo</code> notation is taken to be a GitHub package.
For example:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="co">## Package from GitHub</span></span>
<span><span class="fu"><a href="../reference/pkg_install.html">pkg_install</a></span><span class="op">(</span><span class="st">"r-lib/glue"</span><span class="op">)</span></span></code></pre><p></p></div>
<p>The full specification of GitHub packages is</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>[<span class="sc">&lt;</span>package<span class="sc">&gt;=</span>][github<span class="sc">::</span>]<span class="sc">&lt;</span>username<span class="sc">&gt;</span><span class="er">/&lt;</span>repo<span class="sc">&gt;</span>[<span class="sc">/</span><span class="er">&lt;</span>subdir<span class="sc">&gt;</span>]</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    [<span class="sc">@</span><span class="er">&lt;</span>committish<span class="sc">&gt;</span> <span class="er">|</span> <span class="co">#&lt;pull&gt; | @[*]release]</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span></code></pre><p></p></div><ul><li><p><code>&lt;package&gt;</code> is the name of the package. If this is missing, the
name of the package must match the name of the repository.</p></li>
<li><p><code>&lt;username&gt;</code>: GitHub user or organization name.</p></li>
<li><p><code>&lt;repo&gt;</code>: repository name.</p></li>
<li><p><code>&lt;subdir&gt;</code>: If the R package is in a subdirectory within the
repository.</p></li>
<li><p><code>&lt;commitish&gt;</code>: A branch name, git tag or SHA hash, to specify the
branch, tag or commit to download or install.</p></li>
<li><p><code>&lt;pull&gt;</code>: Pull request number, to install the branch that corresponds
to a pull request.</p></li>
<li><p>The <code>@*release</code> string can be used to install the latest release.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="local-package-trees">Local package trees<a class="anchor" aria-label="anchor" href="#local-package-trees"></a></h2>
    


<p>pak can install packages from package trees. You can either use the
<code><a href="local_install.html">local_install()</a></code> function for this, or specify the <code>local::</code> package
source. E.g. these are equivalent:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="fu"><a href="../reference/local_install.html">local_install</a></span><span class="op">(</span><span class="st">"/path/to/my/package"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/pkg_install.html">pkg_install</a></span><span class="op">(</span><span class="st">"local::/path/to/my/package"</span><span class="op">)</span></span></code></pre><p></p></div>
<p>The <code>local::</code> form is handy if you want to mix it with other package
specifications, e.g. to install a local package, and another standard
package:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="fu"><a href="../reference/pkg_install.html">pkg_install</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"local://path/to/my/package"</span>, <span class="st">"testthat"</span><span class="op">)</span><span class="op">)</span></span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="the-remotes-field">The <code>Remotes</code> field<a class="anchor" aria-label="anchor" href="#the-remotes-field"></a></h2>
    


<p>You can mark any regular dependency defined in the <code>Depends</code>, <code>Imports</code>,
<code>Suggests</code> or <code>Enhances</code> fields as being installed from a remote
location by adding the remote location to <code>Remotes</code> in your
<code>DESCRIPTION</code> file. This will cause pak to download and install them
from the specified location, instead of CRAN.</p>
<p>The remote dependencies specified in <code>Remotes</code> is a comma separated
list of package sources:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>Remotes<span class="sc">:</span> <span class="er">&lt;</span>pkg<span class="sc">-</span>source<span class="dv">-1</span><span class="sc">&gt;</span>, <span class="sc">&lt;</span>pkg<span class="sc">-</span>source<span class="dv">-2</span><span class="sc">&gt;</span>, [ ... ]</span></code></pre><p></p></div>
<p>Note that you will still need add the package to one of the regular
dependency fields, i.e. <code>Imports</code>, <code>Suggests</code>, etc. Here is a concrete
example that specifies the <code>r-lib/glue</code> package:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>Imports<span class="sc">:</span> glue</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>Remotes<span class="sc">:</span> r<span class="sc">-</span>lib<span class="sc">/</span>glue,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  r<span class="sc">-</span>lib<span class="sc">/</span>httr<span class="sc">@</span>v0<span class="fl">.4</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  klutometis<span class="sc">/</span>roxygen<span class="co">#142,</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  r<span class="sc">-</span>lib<span class="sc">/</span>testthat<span class="sc">@</span>c67018fa4970</span></code></pre><p></p></div>
<p>The CRAN and Bioconductor repositories do not support the <code>Remotes</code>
field, so you need to remove this field, before submitting your package
to either of them.</p>
    </div>
    <div class="section level2">
    <h2 id="the-package-dependency-solver">The package dependency solver<a class="anchor" aria-label="anchor" href="#the-package-dependency-solver"></a></h2>
    


<p>pak contains a package dependency solver, that makes sure that the
package source and version requirements of all packages are satisfied,
before starting an installation. For CRAN and BioC packages this is
usually automatic, because these repositories are generally in a
consistent state. If packages depend on other other package sources,
however, this is not the case.</p>
<p>Here is an example of a conflict detected:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> pak<span class="sc">::</span><span class="fu">pkg_install</span>(<span class="fu">c</span>(<span class="st">"r-lib/pkgcache@conflict"</span>, <span class="st">"r-lib/cli@message"</span>))</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>Error<span class="sc">:</span> Cannot install packages<span class="sc">:</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="er">*</span> Cannot install <span class="st">`</span><span class="at">r-lib/pkgcache@conflict</span><span class="st">`</span>.</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span> Cannot install dependency r<span class="sc">-</span>lib<span class="sc">/</span>cli<span class="sc">@</span>main</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="sc">*</span> Cannot install <span class="st">`</span><span class="at">r-lib/cli@main</span><span class="st">`</span>.</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> Conflicts r<span class="sc">-</span>lib<span class="sc">/</span>cli<span class="sc">@</span>message</span></code></pre><p></p></div>
<p><code>r-lib/pkgcache@conflict</code> depends on the main branch of <code>r-lib/cli</code>,
whereas, we explicitly requested the <code>message</code> branch. Since it cannot
install both versions into a single library, pak quits.</p>
<p>When pak considers a package for installation, and the package is given
with its name only, (e.g. as a dependency of another package), then
the package may have <em>any</em> package source. This is necessary, because
one R package library may contain only at most one version of a package
with a given name.</p>
<p>pak's behavior is best explained via an example.
Assume that you are installing a local package (see below), e.g.
<code>local::.</code>, and the local package depends on <code>pkgA</code> and <code>user/pkgB</code>,
the latter being a package from GitHub (see below), and that <code>pkgA</code>
also depends on <code>pkgB</code>. Now pak must install <code>pkgB</code> <em>and</em> <code>user/pkgB</code>.
In this case pak interprets <code>pkgB</code> as a package from any package source,
instead of a standard package, so installing <code>user/pkgB</code> satisfies both
requirements.</p>
<p>Note that that <code>cran::pkgB</code> and <code>user/pkgB</code> requirements result a
conflict that pak cannot resolve. This is because the first one <em>must</em>
be a CRAN package, and the second one <em>must</em> be a GitHub package, and
two different packages with the same cannot be installed into an R
package library.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other package functions: 
<code><a href="lib_status.html">lib_status</a>()</code>,
<code><a href="pak.html">pak</a>()</code>,
<code><a href="pkg_deps_tree.html">pkg_deps_tree</a>()</code>,
<code><a href="pkg_deps.html">pkg_deps</a>()</code>,
<code><a href="pkg_download.html">pkg_download</a>()</code>,
<code><a href="pkg_install.html">pkg_install</a>()</code>,
<code><a href="pkg_remove.html">pkg_remove</a>()</code>,
<code><a href="pkg_status.html">pkg_status</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://jimhester.com" class="external-link">Jim Hester</a>, <a href="https://www.rstudio.com" class="external-link"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" width="72"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

  </div></footer></body></html>

